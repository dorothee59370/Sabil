<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='30' fill='%230F5E4D'/%3E%3Cpath d='M40 12a18 18 0 1 0 0 40 20 20 0 1 1 0-40z' fill='%23F3EBDD'/%3E%3Cpath d='M44 22l2 4 4 1-3 3 1 4-4-2-4 2 1-4-3-3 4-1z' fill='%23F3EBDD'/%3E%3C/svg%3E" />

  <!-- Balises SEO / Partage -->
  <meta property="og:title" content="Sabil â€“ compagnon de foi au quotidien" />
  <meta property="og:description" content="Horaires de priÃ¨re, Qibla, Coran & invocations, calendrier hÃ©girien. Simple et accessible pour tous." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://dorothee59370.github.io/Sabil/" />
  <meta name="theme-color" content="#0F5E4D" />

  <!-- Responsive -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Titre -->
  <title>Sabil â€“ Compagnon de foi au quotidien</title>

  <!-- CSS & Styles -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>html{scroll-behavior:smooth}</style>

  <!-- Meta Description -->
  <meta name="description" content="Sabil â€“ Horaires de priÃ¨re, Qibla, Coran, apprentissage de la Salat et de lâ€™arabe. Une application musulmane complÃ¨te, simple et accessible." />
</head>

<body class="bg-neutral-50 text-neutral-900">
  <!-- Header -->
  <header class="max-w-3xl mx-auto px-4 py-6 flex items-center gap-3">
    <div class="shrink-0">
      <!-- Logo simple SVG (croissant et Ã©toile) -->
      <svg aria-hidden="true" viewBox="0 0 64 64" class="w-10 h-10">
        <circle cx="32" cy="32" r="30" fill="#0F5E4D"/>
        <path d="M40 12a18 18 0 1 0 0 40 20 20 0 1 1 0-40z" fill="#F3EBDD"/>
        <path d="M44 22l2 4 4 1-3 3 1 4-4-2-4 2 1-4-3-3 4-1z" fill="#F3EBDD"/>
      </svg>
    </div>
    <div>
      <h1 class="text-xl font-bold">Sabil</h1>
      <p class="text-sm text-neutral-600">Horaires â€¢ Qibla â€¢ Coran â€¢ Salat â€¢ Arabe â€¢ Invocations</p>
    </div>
    <div class="ml-auto">
      <a href="#inscription" class="inline-flex items-center rounded-2xl px-4 py-2 bg-emerald-700 text-white text-sm font-medium shadow hover:bg-emerald-800">
        Rejoindre la bÃªta
      </a>
    </div>
  </header>
  <nav class="sticky top-0 z-10 bg-neutral-50/90 backdrop-blur border-b">
    <div class="max-w-3xl mx-auto px-4 py-2 flex flex-wrap gap-3 text-sm">
      <a href="#timings" class="hover:underline">Horaires</a>
      <a href="#qibla" class="hover:underline">Qibla</a>
      <a href="#coran" class="hover:underline">Coran</a>
      <a href="#aide" class="hover:underline">DÃ©butants</a>
      <a href="#inscription" class="ml-auto hover:underline">BÃªta</a>
    </div>
  </nav>

  <main class="max-w-3xl mx-auto px-4 pb-24">
    
    <!-- ================== Accueil ================== -->
<section id="accueil" class="max-w-3xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold text-center mb-4">Sabil â€“ ton compagnon de foi au quotidien</h1>
  <p class="text-lg text-center mb-6">
    Sabil tâ€™accompagne dans ta pratique : horaires de priÃ¨re prÃ¨s de toi, direction de la Qibla,
    Ã©coute du Coran, guides simples pour dÃ©buter et progresser. Tout au mÃªme endroit.
  </p>

  <div class="grid md:grid-cols-3 gap-6 mb-8 text-center">
    <div>
      <h2 class="text-xl font-semibold mb-2">ğŸ•’ Fiable</h2>
      <p>Horaires et Qibla calculÃ©s selon des mÃ©thodes reconnues.</p>
    </div>
    <div>
      <h2 class="text-xl font-semibold mb-2">ğŸŒ Accessible</h2>
      <p>Textes clairs, translittÃ©ration et audio disponibles.</p>
    </div>
    <div>
      <h2 class="text-xl font-semibold mb-2">ğŸ’ Gratuit</h2>
      <p>Commence dÃ¨s maintenant, depuis ton tÃ©lÃ©phone ou ton PC.</p>
    </div>
  </div>

  <div class="flex flex-wrap justify-center gap-4">
    <a href="#horaires" class="px-6 py-3 bg-emerald-700 text-white rounded-xl shadow hover:bg-emerald-800">AccÃ©der aux horaires</a>
    <a href="#qibla" class="px-6 py-3 bg-gray-200 rounded-xl shadow hover:bg-gray-300">Trouver la Qibla</a>
    <a href="#coran" class="px-6 py-3 bg-gray-200 rounded-xl shadow hover:bg-gray-300">Ã‰couter le Coran</a>
    <a href="#debutants" class="px-6 py-3 bg-gray-200 rounded-xl shadow hover:bg-gray-300">Je dÃ©bute</a>
  </div>
</section>

<hr class="my-10 border-t-2 border-emerald-200" />

<!-- ================== DÃ©butants ================== -->
<section id="debutants" class="max-w-3xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6 text-center">Je dÃ©bute : guides pas Ã  pas</h1>

  <!-- Wudu -->
  <h2 class="text-2xl font-semibold mb-4">Wudu (ablutions en 10 Ã©tapes)</h2>
  <ol class="list-decimal list-inside space-y-1 mb-8">
    <li>Intention (niyya) dans le cÅ“ur.</li>
    <li>Dire <em>Bismillah</em>.</li>
    <li>Se laver les mains (3Ã—).</li>
    <li>Bouche (3Ã—).</li>
    <li>Nez (3Ã—).</li>
    <li>Visage (3Ã—).</li>
    <li>Bras jusquâ€™aux coudes droit puis gauche (3Ã—).</li>
    <li>Passer les mains mouillÃ©es sur la tÃªte et les oreilles (1Ã—).</li>
    <li>Pied droit puis gauche jusquâ€™aux chevilles (3Ã—).</li>
    <li>Invocation de fin si connue.</li>
  </ol>

  <!-- Salat -->
  <h2 class="text-2xl font-semibold mb-4">Salat â€“ modÃ¨le 2 rakaÊ¿Ã¢t</h2>
  <ol class="list-decimal list-inside space-y-1 mb-8">
    <li>Intention + <em>AllÄhu Akbar</em></li>
    <li>Debout : Al-FÄtiá¸¥a + sourate courte</li>
    <li>Inclinaison (<em>rukÅ«Ê¿</em>) : <em>Subá¸¥Äna Rabbiyal-Ê¿Aáº“Ä«m</em> (3Ã—)</li>
    <li>Redressement : <em>SamiÊ¿a-llÄhu liman á¸¥amidah</em> â†’ <em>Rabbana laka-l-á¸¥amd</em></li>
    <li>Prosternation (<em>sujÅ«d</em>) : <em>Subá¸¥Äna Rabbiyal-AÊ¿lÄ</em> (3Ã—)</li>
    <li>Assise courte â†’ 2e prosternation</li>
    <li>DeuxiÃ¨me rakaÊ¿a identique</li>
    <li>Tachahhud (At-Taá¸¥iyyÄt) â†’ salutations finales (taslÄ«m)</li>
  </ol>

  <!-- Invocations -->
  <h2 class="text-2xl font-semibold mb-4">Invocations utiles (adhkÄr)</h2>
  <ul class="list-disc list-inside space-y-1">
    <li>Matin : <em>Subá¸¥Än AllÄh</em> (33) â€¢ <em>Al-á¸¥amdu lillÄh</em> (33) â€¢ <em>AllÄhu Akbar</em> (34)</li>
    <li>Avant de dormir : <em>Bismika AllÄhumma amÅ«tu wa aá¸¥yÄ</em></li>
  </ul>

  <p class="mt-6 text-sm text-gray-600">
    Note : les Ã©coles juridiques prÃ©sentent des variantes acceptÃ©es. RÃ©fÃ¨re-toi Ã  ta mosquÃ©e locale.
  </p>
</section>

    <!-- Hero -->
    <section class="bg-white rounded-2xl p-6 shadow">
      <h2 class="text-lg font-semibold">Ton compagnon de foi au quotidien</h2>
      <p class="mt-2 text-neutral-600">Avec Sabil, accÃ¨de Ã  tes horaires de priÃ¨re, lâ€™orientation de la Kaaba, le Coran, et des guides pour progresser dans ta pratique et ton apprentissage.</p>
      <div class="mt-4 flex flex-wrap items-center gap-3">
        <button id="btnLocate" class="rounded-2xl px-4 py-2 bg-neutral-900 text-white text-sm font-medium hover:opacity-90">Autoriser la localisation</button>
        <div class="flex items-center gap-2 text-sm">
          <label for="method" class="text-neutral-600">MÃ©thode :</label>
          <select id="method" class="rounded-xl border px-2 py-1 bg-white">
            <option value="3" selected>Muslim World League</option>
            <option value="12">France (UOIF)</option>
            <option value="2">ISNA</option>
            <option value="5">Egyptian Authority</option>
            <option value="4">Umm Alâ€‘Qura (Makkah)</option>
            <option value="15">Moonsighting Committee</option>
          </select>
        </div>
        <div class="flex items-center gap-2 text-sm">
          <label for="school" class="text-neutral-600">Asr :</label>
          <select id="school" class="rounded-xl border px-2 py-1 bg-white">
            <option value="0" selected>Shafiâ€˜</option>
            <option value="1">Hanafi</option>
          </select>
        </div>
      </div>
      <p id="status" class="mt-3 text-sm text-neutral-600"></p>
    </section>

    <!-- Grid: Timings / Qibla / Hijri / Mosques -->
    <section class="mt-6 grid md:grid-cols-2 gap-6">
      <!-- Timings -->
      <div class="bg-white rounded-2xl p-6 shadow">
        <h3 id="timings" class="text-base font-semibold">Horaires de priÃ¨re</h3>
        <p id="timingDate" class="text-sm text-neutral-600"></p>
        <div id="timings" class="mt-3">
          <div class="text-sm text-neutral-500">Autorise la localisation pour afficher les horairesâ€¦</div>
        </div>
      </div>

      <!-- Qibla -->
      <div class="bg-white rounded-2xl p-6 shadow">
        <h3 id="qibla" class="text-base font-semibold">Qibla (direction de La Mecque)</h3>
        <div class="mt-3 flex items-center gap-4">
          <div class="relative w-40 h-40">
            <div class="absolute inset-0 rounded-full border"></div>
            <div class="absolute inset-0 flex items-center justify-center">
              <div class="text-xs text-neutral-500">Nord â†‘</div>
            </div>
            <div id="qiblaArrow" class="absolute left-1/2 top-1/2 origin-bottom -translate-x-1/2 -translate-y-full">
              <div class="w-0 h-0 border-l-4 border-r-4 border-b-[56px] border-l-transparent border-r-transparent" style="border-bottom-color:#0F5E4D"></div>
              <div class="w-1 h-12 bg-emerald-800 mx-auto"></div>
            </div>
          </div>
          <div>
            <p class="text-sm text-neutral-700">Tourne le tÃ©lÃ©phone jusquâ€™Ã  aligner la flÃ¨che vers le haut (Nord), puis orienteâ€‘toi selon lâ€™angle indiquÃ©.</p>
            <p id="qiblaInfo" class="mt-2 text-sm font-medium"></p>
          </div>
        </div>
      </div>

      <!-- Hijri -->
      <div class="bg-white rounded-2xl p-6 shadow">
        <h3 class="text-base font-semibold">Calendrier hÃ©girien (aujourdâ€™hui)</h3>
        <p id="hijri" class="mt-2 text-sm text-neutral-700">â€”</p>
      </div>

      <!-- Mosques -->
      <div class="bg-white rounded-2xl p-6 shadow">
        <h3 class="text-base font-semibold">MosquÃ©es proches</h3>
        <p class="mt-2 text-sm text-neutral-700">Ouvre ta carte prÃ©fÃ©rÃ©e pour Â« mosquÃ©e Â» prÃ¨s de toi :</p>
        <div class="mt-3 flex flex-wrap gap-2" id="mapsLinks">
          <a id="gmap" target="_blank" class="rounded-xl px-3 py-2 text-sm bg-neutral-900 text-white">GoogleÂ Maps</a>
          <a id="osm" target="_blank" class="rounded-xl px-3 py-2 text-sm bg-white border">OpenStreetMap</a>
          <a id="apple" target="_blank" class="rounded-xl px-3 py-2 text-sm bg-white border">Plans (Apple)</a>
        </div>
      </div>
    </section>

    <!-- Coran & Duas -->
    <section id="coran" class="mt-6 bg-white rounded-2xl p-6 shadow">
      <h3 class="text-base font-semibold">Coran & Invocations</h3>
      <ul class="mt-3 text-sm list-disc pl-5 space-y-1 text-neutral-700">
        <li>
          <a class="underline" href="https://quran.com" target="_blank" rel="noopener">Lire/Ã©couter le Coran (quran.com)</a>
        </li>
        <li>
          <a class="underline" href="https://sunnah.com/duas" target="_blank" rel="noopener">Invocations (duâ€˜Ã¢) courantes (sunnah.com)</a>
        </li>
      </ul>
    </section>

    <!-- Section Aide Nouveaux Musulmans -->
    <section id="aide" class="mt-6 bg-white rounded-2xl p-6 shadow">
      <h3 class="text-base font-semibold">Aide pour les nouveaux musulmans</h3>
      <ul class="mt-3 text-sm list-disc pl-5 space-y-1 text-neutral-700">
        <li><a href="https://muslimpro.com/learn-salat" target="_blank" class="underline">Apprendre Ã  faire la Salat (guides pas-Ã -pas)</a></li>
        <li><a href="https://www.youtube.com/results?search_query=apprendre+salat+franÃ§ais" target="_blank" class="underline">Tutoriels vidÃ©o de la Salat</a></li>
        <li><a href="https://arabic.guide" target="_blank" class="underline">Apprentissage de lâ€™alphabet arabe</a></li>
        <li><a href="https://duolingo.com/course/ar/en/Learn-Arabic" target="_blank" class="underline">Apprendre lâ€™arabe (Ã©crit et oral)</a></li>
      </ul>
    </section>

    <!-- Inscription beta -->
    <section id="inscription" class="mt-6 bg-white rounded-2xl p-6 shadow">
      <h3 class="text-base font-semibold">Rejoindre la bÃªta</h3>
      <p class="text-sm text-neutral-700">Laisse ton eâ€‘mail pour Ãªtre informÃ©(e)Â :</p>
      <form class="mt-3" action="mailto:contact@example.com" method="post" enctype="text/plain">
        <div class="grid md:grid-cols-2 gap-3">
          <input required type="text" name="nom" placeholder="Nom" class="rounded-xl border px-3 py-2" />
          <input required type="email" name="email" placeholder="Email" class="rounded-xl border px-3 py-2" />
        </div>
        <button class="mt-3 rounded-2xl px-4 py-2 bg-emerald-700 text-white text-sm font-medium hover:bg-emerald-800">Mâ€™inscrire</button>
      </form>
    </section>

    <footer class="mt-10 text-center text-xs text-neutral-500">
      <p>Â© Sabil â€” MVP communautaire. DonnÃ©es horaires par Aladhan API. VÃ©rifie toujours localement avec ta mosquÃ©e.</p>
    </footer>
  </main>

  <!-- Scripts identiques au prÃ©cÃ©dent (timings, qibla, hijri) -->
  <script>
    const statusEl = document.getElementById('status');
    const timingsEl = document.getElementById('timings');
    const timingDateEl = document.getElementById('timingDate');
    const hijriEl = document.getElementById('hijri');
    const btnLocate = document.getElementById('btnLocate');
    const methodSel = document.getElementById('method');
    const schoolSel = document.getElementById('school');
    const qiblaArrow = document.getElementById('qiblaArrow');
    const qiblaInfo = document.getElementById('qiblaInfo');

    let lastCoords = null;

    function setMapLinks(lat, lon) {
      document.getElementById('gmap').href = `https://www.google.com/maps/search/?api=1&query=mosque&center=${lat},${lon}`;
      document.getElementById('osm').href = `https://www.openstreetmap.org/#map=14/${lat}/${lon}`;
      document.getElementById('apple').href = `https://maps.apple.com/?q=mosque&sll=${lat},${lon}`;
    }

    function renderTimings(timings) {
      const order = ['Fajr','Sunrise','Dhuhr','Asr','Maghrib','Isha'];
      const labels = {Fajr:'Fajr',Sunrise:'Lever',Dhuhr:'Dhouhr',Asr:'Asr',Maghrib:'Maghrib',Isha:'Icha'};
      const list = document.createElement('ul');
      list.className = 'divide-y rounded-xl border bg-white';
      order.forEach(k => {
        const li = document.createElement('li');
        li.className = 'flex items-center justify-between px-3 py-2';
        li.innerHTML = `<span class="text-sm">${labels[k]}</span><span class="font-medium">${timings[k]}</span>`;
        list.appendChild(li);
      });
      timingsEl.innerHTML = '';
      timingsEl.appendChild(list);
    }

    async function fetchTimings(lat, lon) {
      const url = `https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=${methodSel.value}&school=${schoolSel.value}`;
      const res = await fetch(url);
      const json = await res.json();
      if (json && json.data) {
        const { date, timings } = json.data;
        timingDateEl.textContent = `${date.readable} â€” ${date.hijri.day} ${date.hijri.month.en} ${date.hijri.year} AH`;
        renderTimings(timings);
      }
    }

    async function fetchQibla(lat, lon) {
      const res = await fetch(`https://api.aladhan.com/v1/qibla/${lat}/${lon}`);
      const json = await res.json();
      if (json && json.data) {
        const angle = Math.round(json.data.direction);
        qiblaArrow.style.transform = `translate(-50%, -100%) rotate(${angle}deg)`;
        qiblaInfo.textContent = `Angle depuis le Nord : ${angle}Â°`;
      }
    }

    async function fetchHijri(today = new Date()) {
      const d = String(today.getDate()).padStart(2,'0');
      const m = String(today.getMonth()+1).padStart(2,'0');
      const y = today.getFullYear();
      const res = await fetch(`https://api.aladhan.com/v1/gToH?date=${d}-${m}-${y}`);
      const json = await res.json();
      if (json && json.data) {
        const h = json.data.hijri;
        hijriEl.textContent = `${h.day} ${h.month.ar} (${h.month.en}) ${h.year} AH â€” ${h.weekday.ar} / ${h.weekday.en}`;
      }
    }

    async function onLocate() {
      statusEl.textContent = 'Demande de localisationâ€¦';
      navigator.geolocation.getCurrentPosition(async (pos) => {
        const { latitude, longitude } = pos.coords;
        lastCoords = { lat: latitude, lon: longitude };
        statusEl.textContent = 'Position dÃ©tectÃ©e.';
        setMapLinks(latitude, longitude);
        await fetchTimings(latitude, longitude);
        await fetchQibla(latitude, longitude);
        await fetchHijri();
      }, () => { statusEl.textContent = 'Localisation refusÃ©e.'; });
    }

    btnLocate.addEventListener('click', onLocate);
    methodSel.addEventListener('change', () => { if (lastCoords) fetchTimings(lastCoords.lat, lastCoords.lon); });
    schoolSel.addEventListener('change', () => { if (lastCoords) fetchTimings(lastCoords.lat, lastCoords.lon); });
    fetchHijri();
  </script>
</body>
</html>
